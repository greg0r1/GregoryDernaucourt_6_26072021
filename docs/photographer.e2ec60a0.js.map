{"mappings":"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","sources":["src/assets/js/main-photographer.js","src/assets/js/classes/ViewMedias.js","src/assets/js/classes/MediaFactory.js","src/assets/js/classes/ViewVideo.js","src/assets/js/classes/ViewPicture.js","src/assets/js/classes/Lightbox.js","src/assets/js/classes/ModalForm.js"],"sourcesContent":["// Model\nimport DataService from './classes/DataService';\nimport EventService from './classes/EventService';\nimport ViewMedias from './classes/ViewMedias';\nimport Lightbox from './classes/Lightbox';\nimport EventScrollToTop from './classes/EventScrollToTop'\nimport ModalForm from './classes/ModalForm'\n\n// View\n\nconst displayPhotographerInfos = (photographer, totalLikes) => {\n    const headerPhotographerInfosElement = document.querySelector('.photographerHeader');\n\n    headerPhotographerInfosElement.innerHTML = `\n        <div class=\"details\">\n            <h1 class=\"title\">${photographer.name}</h1>\n            <p class=\"localisation\">${photographer.country}, ${photographer.city}</p>\n            <p class=\"tagline\">${photographer.tagline}</p>\n            <div class=\"tags\" aria-label=\"Liste de tags concernant le photographe\">\n                <ul>\n                    ${photographer.tags.map((tag) => `\n                    <li class=\"tag\">\n                        <a title=\"${tag}\" href=\"javascript:void(0);\" tabindex=\"0\">#${tag.charAt(0).toUpperCase()}${tag.slice(1)}</a>\n                    </li>\n                `).join(\"\")}\n                </ul>\n            </div>\n            <div class=\"info\">\n                <div class=\"likes\" arial-label=\"likes\">\n                    <span>${totalLikes}</span><span class=\"fas fa-heart\"></span>\n                </div>\n                <div class=\"price\">\n                    <span>${photographer.price}€ / jour</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"button\">\n            <button class=\"btn\">Contactez-moi</button>\n        </div>\n        <div class=\"img\">\n            <img src=\"./assets/images/Sample_Photos/Photographers_ID_Photos/${photographer.portrait}\" alt=\"${photographer.name}\"\">\n        </div>\n        `\n}\n\nconst displayFilterButton = () => {\n    const filterButtonElement = document.querySelector('.filter');\n    filterButtonElement.innerHTML = `        \n        <p id=\"listbox1label\" role=\"label\">Trier par</p>\n        <div role=\"listbox\" id=\"listbox1\" class=\"btn-group dropdown show\">\n            <button class=\"btn dropdown-toggle\"\n            id=\"dropdownMenuLink\"\n            aria-labelledby=\"listbox1label\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"listbox\"\n            aria-activedescendant=\"listbox1-1\"\n            aria-expanded=\"true\">\n                <div role=\"option\">\n                    <a href=\"javascript:void(0);\" role=\"listbox\" id=\"listbox1-1\" tabindex=\"0\">Popularité</a>\n                </div>\n                <span class=\"fas fa-chevron-down\" tabindex=\"0\"></span>\n            </button>\n            <div class=\"dropdown-menu\"\n            aria-labelledby=\"dropdownMenuLink\">\n                <div class=\"dropdown-divider\"></div>\n                <div role=\"option id=\"listbox1-2\" class=\"dropdown-item\"\">\n                    <a href=\"javascript:void(0);\" role=\"listbox\" id=\"listbox1-2\" tabindex=\"0\">Date</a>\n                </div>\n                <div role=\"option id=\"listbox1-3\" class=\"dropdown-item\">\n                    <a href=\"javascript:void(0);\" role=\"listbox\" id=\"listbox1-3\" tabindex=\"0\">Titre</a>\n                </div>\n            </div>\n        </div>\n    `\n}\n\n\n// Scripts\n\n/**\n * Add click event on each Tag\n *\n */\nfunction eventOnTags() {\n    // On ajoute l'événement \"click\" à chaque élément \"tag\"\n    EventService.handleTagClick((element) => {\n        const nameAttributeOfTag = element.getAttribute('title');\n        const url = new URL(`index.html?tag=${nameAttributeOfTag}`, window.location.href);\n        element.setAttribute('href', url.href)\n    });\n}\n\n/**\n * Filters for dropdown button\n *\n * @param {object} element\n * @param {object} dataService\n * @param {number} idFromUrlParams\n * @param {string} firstNameOfPhotographer\n * @param {object} medias\n */\nfunction filterMediasOnDropdownButton(element, dataService, idFromUrlParams, firstNameOfPhotographer, medias) {\n    document.querySelector(\".medias\").innerHTML = '';\n    if (element.textContent.trim() === \"Popularité\") {\n        document.querySelector(\".medias\").appendChild(new ViewMedias(dataService.getMediasPhotographerByPopularity(idFromUrlParams), firstNameOfPhotographer).render());\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)\n    }\n    if (element.textContent.trim() === \"Date\") {\n        document.querySelector(\".medias\").appendChild(new ViewMedias(dataService.getMediasPhotographerByDate(idFromUrlParams), firstNameOfPhotographer).render());\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)\n    }\n    if (element.textContent.trim() === \"Titre\") {\n        document.querySelector(\".medias\").appendChild(new ViewMedias(dataService.getMediasPhotographerByTitle(idFromUrlParams), firstNameOfPhotographer).render());\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)\n    }\n}\n\n/**\n * Add an event on each media for the lightbox\n *\n * @param {array} medias\n * @param {string} firstNameOfPhotographer\n */\nfunction eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer) {\n    const lightbox = new Lightbox(medias, firstNameOfPhotographer);\n    const mediasElements = Array.from(document.querySelectorAll('.video.media, .image.media'));\n    mediasElements.forEach(element => element.addEventListener('click', e => {\n        e.preventDefault();\n        const key = medias.findIndex(element => element.id == e.currentTarget.getAttribute('id'));\n        lightbox.open(key);\n    }\n    ));\n    mediasElements.forEach(element => element.addEventListener('keypress', e => {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n            const key = medias.findIndex(element => element.id == e.currentTarget.getAttribute('id'));\n            lightbox.open(key);\n        }\n    }))\n}\n\nfunction eventClickLikes(element) {\n    let value = Number(document.querySelector('.info .likes span:first-child').innerText);\n    document.querySelector('.info .likes span:first-child').innerText = value + 1;\n\n    let valuePreviousSiblingElt = Number(element.previousSibling.innerText);\n    element.previousSibling.innerText = valuePreviousSiblingElt + 1\n}\n\n\n// Controller\n\nconst mainPhotographer = async () => {\n    try {\n        const dataService = new DataService();\n        dataService.loadPhotographers();// Récupération des photographes\n        dataService.loadMedias();// Récupération de l'ensemble des médias des photographes\n\n        // On display le photographe avec ses infos grâce à son id récupéré dans l'url\n        const paramsFromUrl = new URLSearchParams(document.location.search.substring(1));\n        const idFromUrlParams = Number(paramsFromUrl.get(\"id\"));\n        const nameOfPhotographer = dataService.getPhotographerById(idFromUrlParams).name;\n        const firstNameOfPhotographer = nameOfPhotographer.slice(0, nameOfPhotographer.indexOf(' '));\n        const medias = dataService.getMediasByPhotographerId(idFromUrlParams);\n        const totalLikes = dataService.getTotalOfLikes(idFromUrlParams);\n        displayPhotographerInfos(dataService.getPhotographerById(idFromUrlParams), totalLikes);\n\n        // On ajoute les events sur les tags (renvoient sur la page index avec le résultat)\n        eventOnTags();\n\n        // Event sur bouton contact\n        document.querySelector('.photographerHeader .button').addEventListener('click', () => new ModalForm(nameOfPhotographer));\n\n        //On affiche le bouton de filtre, avec l'event toggle\n        displayFilterButton();\n        const chevronElement = document.querySelector(\".dropdown-toggle .fas\");\n        EventService.toggleDropdownButton(chevronElement);\n        EventService.handleMediasFilter((element) => filterMediasOnDropdownButton(element, dataService, idFromUrlParams, firstNameOfPhotographer, medias));// Gestionnaire de filtres des médias\n\n        //On affiche les médias du photographes\n        document.querySelector(\".medias\").appendChild(new ViewMedias(medias, firstNameOfPhotographer).render());\n\n        //Events sur chaque image pour afficher la lightbox\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer);\n\n        // Event sur likes\n        EventService.handleLikesClick(element => eventClickLikes(element));\n\n        // On ajoute un événement au scroll de Window pour afficher un bouton scroll to top\n        window.addEventListener('scroll', () => EventScrollToTop.scrollToTop(document.querySelector('.scrollToMainButton')));\n\n        // On ajoute le nom du photographe au titre\n        document.title = `Fisheye | ${nameOfPhotographer}`;\n\n    } catch (error) {\n\n        console.error(error)\n\n    }\n};\nmainPhotographer();","import MediaFactory from \"./MediaFactory\";\n\nexport default class ViewMedias {\n    constructor(medias, firstNameOfPhotographer) {\n        this.medias = medias;\n        this.firstNameOfPhotographer = firstNameOfPhotographer\n    }\n\n    render() {\n        const element = document.createElement(\"div\");\n        element.classList.add('container')\n        element.innerHTML = this.toString();\n        return element;\n    }\n\n    toString() {\n        return `\n            ${this.medias.map(({ image, video, title, likes, id, alt_text }) => `\n            <figure class=\"content-media\">\n                <div class=\"content-media__media\">\n                ${new MediaFactory({ image, video, id, title, alt_text }, this.firstNameOfPhotographer).create().toString()}\n                </div>\n                <figcaption class=\"content-media__figcaption\">\n                    <span>${title}</span>\n                    <span class=\"content-media__likesNumber\">${likes} </span><span class=\"fas fa-heart\"></span>\n                </figcaption>\n            </figure>\n        `).join(\"\")}\n    `\n    }\n}\n","import ViewVideo from \"./ViewVideo\";\nimport ViewPicture from \"./ViewPicture\";\n\nexport default class MediaFactory {\n    constructor(media, firstName) {\n        this.media = media;\n        this.firstName = firstName\n    }\n\n    create() {\n\n        if (this.media.video) {\n            return new ViewVideo({ name: this.media.video, id: this.media.id, firstName: this.firstName, title: this.media.title, altText: this.media.alt_text })\n        } else {\n            return new ViewPicture({ name: this.media.image, id: this.media.id, firstName: this.firstName, title: this.media.title, altText: this.media.alt_text })\n        }\n\n    }\n}","/**\n *\n *\n * @export\n * @class ViewVideo\n */\nexport default class ViewVideo {\n    constructor({ name, id, firstName, title, altText }) {\n        this.id = id\n        this.name = name\n        this.firstName = firstName\n        this.title = title\n        this.altText = altText\n    }\n    toString() {\n        return `\n        <video tabindex=\"0\" id=\"${this.id}\" class=\"video media\" alt=\"${this.altText}: ${this.title}\" preload=\"metadata\">\n            <source src=\"./assets/images/Sample_Photos/${this.firstName}/${this.name}#t=0.1\" type=\"video/mp4\">\n            <p>Votre navigateur ne supporte pas la vidéo HTML5. Voici à la place <a href=\"./assets/images/Sample_Photos/${this.firstName}/${this.name}\">le lien vers la vidéo</a>.</p>\n        </video>`\n    }\n}","\nexport default class ViewPictures {\n    constructor({ name, id, firstName, title, altText }) {\n        this.id = id\n        this.name = name\n        this.firstName = firstName\n        this.title = title\n        this.altText = altText\n    }\n    toString() {\n        return `\n        <img src=\"./assets/images/Sample_Photos/${this.firstName}/${this.name}\" id=\"${this.id}\" alt=\"${this.altText}: ${this.title}\" class=\"image media\" tabindex=\"0\">`\n    }\n}","import MediaFactory from './MediaFactory';\n\n/**\n * @property {HTMLElement} element\n * @property {string} imageTitle\n * @property {string[]} images\n * @property {string} url Current image displayed\n * @export\n * @class Lightbox\n */\nexport default class Lightbox {\n    constructor(medias, firstNameOfPhotographer) {\n        this.medias = medias\n        this.path = firstNameOfPhotographer\n        this.index = 0\n        document.addEventListener('keyup', this.onKeyUp)\n        this.current = this.getCurrentMedia()\n    }\n\n    open(key) {\n        this.index = key\n        this.display()\n    }\n\n    close() {\n        const lightboxElement = document.querySelector('.lightbox-bg');\n        lightboxElement.classList.add('fadeout')\n        if (lightboxElement) {\n            window.setTimeout(() => {\n                lightboxElement.remove()\n            }, 500)\n        }\n    }\n\n    next() {\n        this.index += 1\n        if (this.index === this.medias.length) {\n            this.index = 0\n        }\n        this.display()\n    }\n\n    prev() {\n        this.index -= 1\n        if (this.index === -1) {\n            this.index = this.medias.length - 1\n        }\n        this.display()\n    }\n\n    getCurrentMedia() {\n        return this.medias[this.index]\n    }\n\n    display() {\n        const current = this.getCurrentMedia()\n        let element = document.querySelector('.lightbox-bg')\n        if (!element) {\n            element = document.createElement('div')\n            element.classList.add('lightbox-bg')\n            document.body.appendChild(element)\n            // Événements au clavier\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'ArrowRight') {\n                    this.next()\n                }\n            })\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'ArrowLeft') {\n                    this.prev()\n                }\n            })\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'Escape') {\n                    this.close()\n                }\n            })\n        }\n        element.innerHTML = `\n        <div role=\"dialog\" class=\"lightbox\" aria-label=\"image closeup view\">\n            <button aria-label=\"Close dialog\" class=\"lightbox__close\"></button>\n            <div class=\"lightbox__container\">\n            <figure>\n                <div class=\"media\">\n                    <button aria-label=\"Next image\" class=\"lightbox__next\"></button>\n                    <button aria-label=\"Previous image\" class=\"lightbox__prev\"></button>\n                    ${new MediaFactory(current, this.path).create().toString()}\n                </div>\n                <figcaption>${current.title}</figcaption>\n                </figure>\n            </div>\n        </div >`\n\n        element.querySelector('.lightbox__next').addEventListener('click', this.next.bind(this))\n        element.querySelector('.lightbox__prev').addEventListener('click', this.prev.bind(this))\n        element.querySelector('.lightbox__close').addEventListener('click', this.close.bind(this))\n        element.getElementsByTagName('video').forEach(e => e.setAttribute(\"controls\", true))\n        element.setAttribute('height', window.innerHeight)\n\n    }\n}","import EventService from './EventService';\n\nexport default class ModalForm {\n    /**\n     * Creates an instance of ModalForm.\n     * @param {string} nameOfPhotographer\n     * @memberof ModalForm\n     */\n    constructor(nameOfPhotographer) {\n        this.nameOfPhotographer = nameOfPhotographer\n        this.init(this.nameOfPhotographer)\n    }\n\n    /**\n     * Modal display\n     *\n     * @param {String} nameOfPhotographer\n     * @memberof ModalForm\n     */\n    init(nameOfPhotographer) {\n        (document.querySelector('.bground')) ? EventService.closeModal() : this.display(nameOfPhotographer);\n        // Events de vérification sur les champs des formulaires\n        EventService.handleInputsFormClick((e) => this.checkField(e));\n        //On rend les éléments en arrière-plan inaccessible pour les lecteurs d'écran\n        document.getElementById('section').setAttribute('aria-hidden', 'true')\n        EventService.closeModal(document.querySelector('.bground .close'), document.querySelector('.bground'));\n    }\n\n    /**\n     * Check form fields\n     *\n     * @param {HTMLElement} element\n     * @memberof ModalForm\n     */\n    checkField(element) {\n        const regExName = \"[a-zA-Z-s\\u00C0-\\u024F\\u1E00-\\u1EFF]{3,}$\"; // Regex qui vérifie si le champ a plus de 3 caractères, les accents, et espaces des noms composés\n\n        if (element.id === \"first\") {\n            element.pattern = regExName;\n            if (!element.validity.valid) {\n                element.setAttribute(\"style\", \"border:2px solid red; outline:none\");\n                document.querySelector('.formData.first span').classList.add('error');\n                document.querySelector('.formData.first .error').textContent = 'Veuillez saisir un nom valide.'\n\n            } else {\n                element.removeAttribute(\"style\");\n                document.querySelector('.formData.first span').textContent = ''\n                document.querySelector('.formData.first span').classList.remove('error');\n            }\n        }\n        if (element.id === \"last\") {\n            element.pattern = regExName;\n            if (!element.validity.valid) {\n                element.setAttribute(\"style\", \"border:2px solid red; outline:none\");\n                document.querySelector('.formData.last span').classList.add('error');\n                document.querySelector('.formData.last .error').textContent = 'Veuillez saisir un nom valide.'\n            } else {\n                element.removeAttribute(\"style\");\n                document.querySelector('.formData.last span').textContent = ''\n                document.querySelector('.formData.last span').classList.remove('error');\n            }\n        }\n        if (element.id === \"email\") {\n            element.pattern = \"[a-z0-9-_]+[a-z0-9.-_]*@[a-z0-9-_]{2,}.[a-z.-_]+[a-z-_]+\"; // Regex qui vérifie si le champ a un email valide\n            if (!element.validity.valid) {\n                element.setAttribute(\"style\", \"border:2px solid red; outline:none\");\n                document.querySelector('.formData.email span').classList.add('error');\n                document.querySelector('.formData.email .error').textContent = 'Veuillez saisir un email valide.'\n            } else {\n                element.removeAttribute(\"style\");\n                document.querySelector('.formData.email span').textContent = ''\n                document.querySelector('.formData.email span').classList.remove('error');\n            }\n        }\n    }\n\n    /**\n     * Get fields values to display into console\n     * \n     * @param {Event} e\n     * @memberof ModalForm\n     */\n    submit(e) {\n        e.preventDefault();\n        for (let i = 0; i < document.forms[0].length - 1; i++) {\n            if (!document.forms[0][i].checkValidity() || document.forms[0][i].value === '') {\n                e.preventDefault()\n                console.clear()\n                let id = document.forms[0][i].getAttribute('id')\n                let nameId = document.querySelector(`.formData.${id} label`).getInnerHTML()\n                alert('Veuillez saisir un ' + nameId)\n            } else {\n                console.info(document.forms[0][i].value)\n                if (i === document.forms[0].length - 2) {\n                    document.querySelector('.modal-body').innerHTML = '<p style=\"color:#FFF; text-align:center\">Merci,</br>votre formulaire a bien été enregistré !';\n                    document.body.addEventListener('keyup', (evt) => {\n                        if (evt.key === 'Escape') {\n                            document.querySelector('.bground').remove()\n                        }\n                    });\n                    break\n                }\n            }\n        };\n    }\n\n    /**\n     * DOM render\n     *\n     * @param {String} nameOfPhotographer\n     * @memberof ModalForm\n     */\n    display(nameOfPhotographer) {\n        const div = document.createElement('div');\n        div.className = 'bground';\n\n        div.innerHTML = `\n          <div role=\"dialog\" class=\"modalContent\"\n          aria-labelledby=\"dialogTitle\"\n          aria-modal=\"true\">\n            <span role=\"button\" aria-label=\"Close Contact form\" class=\"close\" tabindex=\"0\"></span>\n            <div class=\"modal-body\">\n                <h1 id=\"dialogTitle\" aria-label=\"Contact me ${nameOfPhotographer}\" >Contactez-moi</br>\n                ${nameOfPhotographer}</h1>\n              <form id=\"contact\" action=\"\" method=\"get\">\n                <div class=\"formData first\">\n                  <label aria-label=\"First name\" for=\"first\">Prénom</label>\n                  <input class=\"text-control\" type=\"text\" id=\"first\" name=\"first\" aria-labelledby=\"first\"/>\n                  <span></span>\n                </div>\n                <div class=\"formData last\">\n                  <label aria-label=\"Last name\" for=\"last\">Nom</label>\n                  <input class=\"text-control\" type=\"text\" id=\"last\" name=\"last\" aria-labelledby=\"last\"/>\n                  <span></span>\n                </div>\n                <div class=\"formData email\">\n                  <label aria-label=\"email\" for=\"email\">E-mail</label>\n                  <input class=\"text-control\" type=\"email\" id=\"email\" name=\"email\" aria-labelledby=\"email\"/>\n                  <span></span>\n                </div>\n                <div class=\"formData message\">\n                  <label aria-label=\"Your message\" for=\"message\">Votre message</label>\n                  <textarea class=\"text-control\" type=\"text\" id=\"message\" name=\"message\" aria-labelledby=\"message\"></textarea>\n                  <span></span>\n                </div>\n                <div class=\"submit\">\n                    <input class=\"btn-submit button\" type=\"submit\" value=\"Envoyer\" aria-label=\"Send\"/>\n                </div>\n              </form>\n            </div>\n        </div>`;\n        document.getElementById('main').appendChild(div);\n        document.querySelector('form#contact input[type=submit]').addEventListener('click', (e) => this.submit(e));\n        document.getElementById('first').focus();\n    }\n}"],"names":["$6474f89d5989e90f$var$_DataService","$6474f89d5989e90f$var$_interopRequireDefault","parcelRequire","$6474f89d5989e90f$var$_EventService","$4be4b7ca8119984a$var$_MediaFactory","render","element","document","createElement","classList","add","innerHTML","this","toString","concat","medias","map","_ref","image","video","title","likes","id","alt_text","MediaFactory","firstNameOfPhotographer","create","join","$02c42a7379c9508d$var$_ViewVideo","$02c42a7379c9508d$var$_interopRequireDefault","$02c42a7379c9508d$var$_ViewPicture","media","ViewVideo","name","firstName","altText","ViewPicture","$6474f89d5989e90f$var$_ViewMedias","$7bccf615f3cbf77c$var$_MediaFactory","open","key","index","display","close","lightboxElement","querySelector","window","setTimeout","remove","next","length","prev","getCurrentMedia","current","body","appendChild","addEventListener","evt","path","bind","getElementsByTagName","forEach","e","setAttribute","innerHeight","onKeyUp","$6474f89d5989e90f$var$_Lightbox","$6474f89d5989e90f$var$_EventScrollToTop","$43aa8d02914f4e23$var$_EventService","init","nameOfPhotographer","EventService","closeModal","handleInputsFormClick","checkField","getElementById","regExName","pattern","validity","valid","removeAttribute","textContent","submit","preventDefault","i","forms","checkValidity","value","console","info","clear","getAttribute","nameId","getInnerHTML","alert","div","className","focus","constructor","$6474f89d5989e90f$var$_ModalForm","eventOpenLightboxOnMediasElements","lightbox","Lightbox","mediasElements","Array","from","querySelectorAll","findIndex","currentTarget","async","dataService","DataService","loadPhotographers","loadMedias","paramsFromUrl","URLSearchParams","location","search","substring","idFromUrlParams","Number","get","getPhotographerById","slice","indexOf","getMediasByPhotographerId","totalLikes","getTotalOfLikes","photographer","country","city","tagline","tags","tag","charAt","toUpperCase","price","portrait","displayPhotographerInfos","handleTagClick","nameAttributeOfTag","url","URL","href","ModalForm","chevronElement","toggleDropdownButton","handleMediasFilter","trim","ViewMedias","getMediasPhotographerByPopularity","getMediasPhotographerByDate","getMediasPhotographerByTitle","filterMediasOnDropdownButton","handleLikesClick","innerText","valuePreviousSiblingElt","previousSibling","eventClickLikes","EventScrollToTop","scrollToTop","error","mainPhotographer"],"version":3,"file":"photographer.e2ec60a0.js.map"}