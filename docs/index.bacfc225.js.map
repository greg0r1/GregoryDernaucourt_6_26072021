{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-fdbf9a7545ce64bf.js","src/assets/js/main-photographers.js","node_modules/@parcel/runtime-js/lib/runtime-bc44361e7b66f3d5.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/assets/js/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6omqG\\\":\\\"index.bacfc225.js\\\",\\\"2QEp2\\\":\\\"loader.d3e83df8.svg\\\",\\\"DJqO0\\\":\\\"index.aaec4e4c.js\\\"}\"));","// Model\nimport DataService from './classes/DataService';\nimport EventService from './classes/EventService';\nimport EventScrollToTop from './classes/EventScrollToTop';\nconst svg = new URL('./../images/loader.svg', import.meta.url);\n\nconst data = new DataService;\n\n\n// View\nconst displayNavTags = (tags) => {\n    document.querySelector('header').innerHTML += `\n        <nav class=\"nav\" aria-label=\"Photographer categories\">\n            <ul class=\"tags\">\n            ${tags.map((tag) => `\n                <li class=\"tag\">\n                    <a title=\"${tag}\" href=\"javascript:void(0);\" tabindex=\"0\">#${tag.charAt(0).toUpperCase()}${tag.slice(1)}</a>\n                </li>`).join(\"\")}\n            </ul>\n        </nav>`\n\n}\n\nconst displayPhotographers = (photographers = []) => {\n    const section = document.querySelector('section');\n    section.classList = \"photographers\";\n    section.innerHTML = `\n    <header aria-label=\"Section header\">\n        <h1>Nos photographes</h1>\n    </header>\n        <div class=\"container\">\n\n        ${photographers.map(({ id, portrait, name, city, country, tagline, price, tags }) =>\n        loader(id, portrait, name) ||\n        `<article class=\"article\">\n            <a class=\"link-to-photographer\" tabindex=\"0\" aria-label=\"${name}\">\n                <div class=\"article__img\">\n                    <img id=\"${id}\" src=\"${svg}\" style=\"\n                    width: 50px;\n                    height: 50px;\n                \" alt=\"\">\n                    </div>\n                <h2 class=\"article__title title\">${name}</h2>\n            </a>\n            <div class=\"details\">\n                <p class=\"localisation\">${city}, ${country}</p>\n                <p class=\"description\">${tagline}</p>\n                <p class=\"price\">${price}€/jour</p>\n            </div>\n            <div class=\"tags\">\n                <ul>\n                ${tags.map((tag) => `\n                    <li class=\"tag\">\n                        <a title=\"${tag}\" href=\"javascript:void(0);\" tabindex=\"0\">#${tag}</a>\n                    </li>`).join(\"\")}\n                </ul>\n            </div>\n        </article>\n        `\n    ).join(\"\")\n        }\n        </div>\n        `\n}\n\n\n// Scripts\n\n/**\n * Fonction pour gérer l'événement des tags\n *\n * @param {object} dataService\n */\nfunction eventOnTags(dataService) {\n    // On ajoute l'événement \"click\" à l'élément \"tag\"\n    EventService.handleTagClick((element) => {\n        const nameAttributeOfTag = element.getAttribute('title');\n        const photographersByTags = dataService.getPhotographersByTags(nameAttributeOfTag);\n        displayPhotographers(photographersByTags);\n        eventOnTags(dataService);\n        // eventOnTags(dataService);\n        eventCickOnPhotographerProfile(dataService);\n        // On ajoute le tag au titre\n        document.title = `Fisheye | ${nameAttributeOfTag.charAt(0).toUpperCase()}${nameAttributeOfTag.slice(1)}`;\n    });\n}\n\n/**\n * Waiting loaded image\n *\n * @param {number} id\n * @param {string} portrait\n * @param {string} name\n */\nfunction loader(id, portrait, name) {\n    const img = new Image();\n    img.onload = () => {\n        document.getElementById(id).src = img.src;\n        document.getElementById(id).alt = 'Portrait du photographe ' + name;\n        document.getElementById(id).removeAttribute('style')\n    };\n    img.src = 'assets/images/Sample_Photos/Photographers_ID_Photos/' + portrait;\n}\n\n/**\n * Add the event to the \"click\" to each photographers file\n *\n * @param {object} dataService\n */\nfunction eventCickOnPhotographerProfile(dataService) {\n    EventService.handlePhotographerSelection((element) => {\n        const nameOfPhotographer = element.textContent.trim();\n        const firstNameOfPhotographer = nameOfPhotographer.slice(0, nameOfPhotographer.indexOf(' '));\n        const id = dataService.getPhotographerByName(nameOfPhotographer).id;\n        const url = new URL(`photographer.html?id=${id.toString()}&firstName=${firstNameOfPhotographer}`, location);\n        element.setAttribute('href', url);\n    });\n}\n\n\n// Controller\n\nconst mainPhotographers = async () => {\n\n    try {\n        const dataService = new DataService();\n        // On récupère l'ensemble des photographes du Json\n        dataService.loadPhotographers();\n        // On récupère l'ensemble des médias des photographes du Json\n        dataService.loadMedias();\n        // On affiche la nav en récupérant tous les tags utilisés (getTags())\n        displayNavTags(dataService.getTags());\n        // On affiche les photographes en commençant par récupérer un paramètre dans l'url:\n        // s'il y a un tag dans l'url, alors on affiche une séléction par le tag transmis,\n        // sinon tous les photographes sont affichés\n        const params = new URLSearchParams(document.location.search.substring(1));\n        const tag = params.get(\"tag\");\n        displayPhotographers(dataService.getPhotographersByTags(tag));\n        // On ajoute un événement au scroll de window pour afficher un bouton scroll to top\n        window.addEventListener('scroll', () => EventScrollToTop.scrollToTop(document.querySelector('.scrollToMainButton')));\n        // On ajoute l'événement \"click\" à l'élément \"tag\"\n        eventOnTags(dataService);\n        // On ajoute l'événement \"click\" à chaque fiche de photographes\n        eventCickOnPhotographerProfile(dataService);\n\n\n    } catch (error) {\n\n        console.error(error)\n\n    }\n\n};\nexport default mainPhotographers();\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('6omqG') + require('./helpers/bundle-manifest').resolve(\"2QEp2\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import mainPhotographers from './main-photographers';\n"],"names":["$d0d4ca57385cf8f8$export$357eb1b4f03c1402","$d0d4ca57385cf8f8$export$40339995e8a21591","$d0d4ca57385cf8f8$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f7a970df03558f65$var$_DataService","$f7a970df03558f65$var$_interopRequireDefault","$f7a970df03558f65$var$_EventService","$f7a970df03558f65$var$_EventScrollToTop","svg","URL","displayPhotographers","DataService","photographers","arguments","undefined","section","document","querySelector","classList","innerHTML","concat","map","_ref","portrait","name","city","country","tagline","price","tags","loader","tag","join","eventOnTags","dataService","EventService","handleTagClick","element","nameAttributeOfTag","getAttribute","photographersByTags","getPhotographersByTags","eventCickOnPhotographerProfile","title","charAt","toUpperCase","slice","img","Image","onload","getElementById","src","alt","removeAttribute","handlePhotographerSelection","nameOfPhotographer","textContent","trim","firstNameOfPhotographer","indexOf","getPhotographerByName","url","toString","location","setAttribute","mainPhotographers","async","loadPhotographers","loadMedias","getTags","URLSearchParams","search","substring","get","window","addEventListener","EventScrollToTop","scrollToTop","error","console","module","exports","getBundleURL","resolve","$3181041709026de6$export$da289beea9c5b10d","$3181041709026de6$var$bundleURL","$3181041709026de6$var$getBaseURL","replace","value","err","matches","stack","match","$3181041709026de6$var$getBundleURL"],"version":3,"file":"index.bacfc225.js.map"}