{"mappings":"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","sources":["src/assets/js/main-photographer.js","src/assets/js/classes/ViewMedias.js","src/assets/js/classes/MediaFactory.js","src/assets/js/classes/ViewVideo.js","src/assets/js/classes/ViewPicture.js","src/assets/js/classes/Lightbox.js","src/assets/js/classes/ModalForm.js"],"sourcesContent":["// Model\nimport DataService from './classes/DataService';\nimport EventService from './classes/EventService';\nimport ViewMedias from './classes/ViewMedias';\nimport Lightbox from './classes/Lightbox';\nimport EventScrollToTop from './classes/EventScrollToTop'\nimport ModalForm from './classes/ModalForm'\n\n// View\n\nconst displayPhotographerInfos = (photographer, totalLikes) => {\n    const headerPhotographerInfosElement = document.querySelector('.photographerHeader');\n\n    headerPhotographerInfosElement.innerHTML = `\n        <div class=\"details\">\n            <h1 class=\"title\">${photographer.name}</h1>\n            <p class=\"localisation\">${photographer.country}, ${photographer.city}</p>\n            <p class=\"tagline\">${photographer.tagline}</p>\n            <div class=\"tags\" aria-label=\"Liste de tags concernant le photographe\">\n                <ul>\n                    ${photographer.tags.map((tag) => `\n                    <li class=\"tag\">\n                        <a title=\"${tag}\" href=\"javascript:void(0);\" tabindex=\"0\">#${tag}</a>\n                    </li>\n                `).join(\"\")}\n                </ul>\n            </div>\n            <div class=\"info\">\n                <div class=\"likes\" arial-label=\"likes\">\n                    <span>${totalLikes}</span><span class=\"fas fa-heart\"></span>\n                </div>\n                <div class=\"price\">\n                    <span>${photographer.price}€ / jour</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"button\">\n            <button class=\"btn\">Contactez-moi</button>\n        </div>\n        <div class=\"img\" aria-label=\"Image\">\n            <img src=\"./assets/images/Sample_Photos/Photographers_ID_Photos/${photographer.portrait}\" alt=\"${photographer.name}\"\">\n        </div>\n        `\n}\n\nconst displayFilterButton = () => {\n    const filterButtonElement = document.querySelector('.filter');\n    filterButtonElement.innerHTML = `        \n        <p id=\"listbox1label\" role=\"label\">Trier par</p>\n        <div role=\"listbox\" id=\"listbox1\" class=\"btn-group dropdown show\">\n            <button class=\"btn dropdown-toggle\"\n            id=\"dropdownMenuLink\"\n            aria-labelledby=\"listbox1label\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"listbox\"\n            aria-activedescendant=\"listbox1-1\"\n            aria-expanded=\"true\">\n                <div role=\"option\" id=\"listbox1-1\">\n                    <a href=\"javascript:void(0);\" role=\"listbox\" id=\"listbox1-1\" tabindex=\"0\">Popularité</a>\n                </div>\n                <span class=\"fas fa-chevron-down\" tabindex=\"0\"></span>\n            </button>\n            <div class=\"dropdown-menu\"\n            aria-labelledby=\"dropdownMenuLink\">\n                <div class=\"dropdown-divider\"></div>\n                <div role=\"option id=\"listbox1-2\" class=\"dropdown-item\"\">\n                    <a href=\"javascript:void(0);\" role=\"listbox\" id=\"listbox1-2\" tabindex=\"0\">Date</a>\n                </div>\n                <div role=\"option id=\"listbox1-3\" class=\"dropdown-item\">\n                    <a href=\"javascript:void(0);\" role=\"listbox\" id=\"listbox1-3\" tabindex=\"0\">Titre</a>\n                </div>\n            </div>\n        </div>\n    `\n}\n\n\n// Scripts\n\n/**\n * Ajoute un event au \"click\" à chaque \"tag\"\n *\n */\nfunction eventOnTags() {\n    // On ajoute l'événement \"click\" à chaque élément \"tag\"\n    EventService.handleTagClick((element) => {\n        const nameAttributeOfTag = element.getAttribute('title');\n        const url = new URL(`index.html?tag=${nameAttributeOfTag}`, window.location.href);\n        element.setAttribute('href', url.href)\n    });\n}\n\n/**\n * Gestionnaire de filtres pour le bouton dropdown\n *\n * @param {*} element\n * @param {*} dataService\n * @param {*} idFromUrlParams\n * @param {*} firstNameOfPhotographer\n * @param {*} medias\n */\nfunction filterMediasOnDropdownButton(element, dataService, idFromUrlParams, firstNameOfPhotographer, medias) {\n    document.querySelector(\".medias\").innerHTML = '';\n    if (element.textContent.trim() === \"Popularité\") {\n        document.querySelector(\".medias\").appendChild(new ViewMedias(dataService.getMediasPhotographerByPopularity(idFromUrlParams), firstNameOfPhotographer).render());\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)\n    }\n    if (element.textContent.trim() === \"Date\") {\n        document.querySelector(\".medias\").appendChild(new ViewMedias(dataService.getMediasPhotographerByDate(idFromUrlParams), firstNameOfPhotographer).render());\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)\n    }\n    if (element.textContent.trim() === \"Titre\") {\n        document.querySelector(\".medias\").appendChild(new ViewMedias(dataService.getMediasPhotographerByTitle(idFromUrlParams), firstNameOfPhotographer).render());\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)\n    }\n}\n\n/**\n * Ajoute un event sur chaque médias pour la lightbox\n *\n * @param {Array} medias\n * @param {string} firstNameOfPhotographer\n */\nfunction eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer) {\n    const lightbox = new Lightbox(medias, firstNameOfPhotographer);\n    const mediasElements = Array.from(document.querySelectorAll('.video.media, .image.media'));\n    mediasElements.forEach(element => element.addEventListener('click', e => {\n        e.preventDefault();\n        const key = medias.findIndex(element => element.id == e.currentTarget.getAttribute('id'));\n        lightbox.open(key);\n    }\n    ));\n    mediasElements.forEach(element => element.addEventListener('keypress', e => {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n            const key = medias.findIndex(element => element.id == e.currentTarget.getAttribute('id'));\n            lightbox.open(key);\n        }\n    }))\n}\n\n\n// Controller\n\nconst mainPhotographer = async () => {\n    try {\n        const dataService = new DataService();\n        dataService.loadPhotographers();// Récupération des photographes\n        dataService.loadMedias();// Récupération de l'ensemble des médias des photographes\n\n        // On display le photographe avec ses infos grâce à son id récupéré dans l'url\n        const paramsFromUrl = new URLSearchParams(document.location.search.substring(1));\n        const idFromUrlParams = Number(paramsFromUrl.get(\"id\"));\n        const nameOfPhotographer = dataService.getPhotographerById(idFromUrlParams).name;\n        const firstNameOfPhotographer = nameOfPhotographer.slice(0, nameOfPhotographer.indexOf(' '));\n        const medias = dataService.getMediasByPhotographerId(idFromUrlParams);\n        displayPhotographerInfos(dataService.getPhotographerById(idFromUrlParams), dataService.getTotalOfLikes(idFromUrlParams));\n\n        // On ajoute les events sur les tags (renvoient sur la page index avec le résultat)\n        eventOnTags();\n\n        // Event sur bouton contact\n        document.querySelector('.photographerHeader .button').addEventListener('click', () => new ModalForm(nameOfPhotographer));\n\n        //On affiche le bouton de filtre, avec l'event toggle\n        displayFilterButton();\n        const chevronElement = document.querySelector(\".dropdown-toggle .fas\");\n        EventService.toggleDropdownButton(chevronElement);\n        EventService.handleMediasFilter((element) => filterMediasOnDropdownButton(element, dataService, idFromUrlParams, firstNameOfPhotographer, medias));// Gestionnaire de filtres des médias\n\n        //On affiche les médias du photographes\n        document.querySelector(\".medias\").appendChild(new ViewMedias(medias, firstNameOfPhotographer).render());\n\n        eventOpenLightboxOnMediasElements(medias, firstNameOfPhotographer)//Events sur chaque image pour afficher la lightbox\n\n        // On ajoute un événement au scroll de Window pour afficher un bouton scroll to top\n        window.addEventListener('scroll', () => EventScrollToTop.scrollToTop(document.querySelector('.scrollToMainButton')));\n\n        // On ajoute le nom du photographe au titre\n        document.title = `Fisheye | ${nameOfPhotographer}`;\n\n    } catch (error) {\n\n        console.error(error)\n\n    }\n};\nmainPhotographer();","import MediaFactory from \"./MediaFactory\";\n\nexport default class ViewMedias {\n    constructor(medias, firstNameOfPhotographer) {\n        this.medias = medias;\n        this.firstNameOfPhotographer = firstNameOfPhotographer\n    }\n\n    render() {\n        const element = document.createElement(\"div\");\n        element.classList.add('container')\n        element.innerHTML = this.toString();\n        return element;\n    }\n\n    toString() {\n        return `\n            ${this.medias.map(({ image, video, title, likes, id }) => `\n            <figure class=\"content-media\">\n                <div class=\"content-media__media\">\n                    ${new MediaFactory({ image, video, id, title }, this.firstNameOfPhotographer).create().toString()}\n                </div>\n                <figcaption class=\"content-media__figcaption\">\n                    <span class=\"content-media__title\">${title}</span>\n                    <span>${likes} </span><span class=\"fas fa-heart\"></span>\n                </figcaption>\n            </figure>\n        `).join(\"\")}\n    `\n    }\n}\n","import ViewVideo from \"./ViewVideo\";\nimport ViewPicture from \"./ViewPicture\";\n\nexport default class MediaFactory {\n    constructor(media, firstName) {\n        this.media = media;\n        this.firstName = firstName\n    }\n\n    create() {\n\n        if (this.media.video) {\n            return new ViewVideo({ name: this.media.video, id: this.media.id, firstName: this.firstName, title: this.media.title })\n        } else {\n            return new ViewPicture({ name: this.media.image, id: this.media.id, firstName: this.firstName, title: this.media.title })\n        }\n\n    }\n}","/**\n *\n *\n * @export\n * @class ViewVideo\n */\nexport default class ViewVideo {\n    constructor({ name, id, firstName, title }) {\n        this.id = id\n        this.name = name\n        this.firstName = firstName\n        this.title = title\n    }\n    toString() {\n        return `\n        <video tabindex=\"0\" controls id=\"${this.id}\" class=\"video media\" alt=\"${this.title}\">\n            <source src=\"./assets/images/Sample_Photos/${this.firstName}/${this.name}\" type=\"video/mp4\">\n            <p>Votre navigateur ne supporte pas la vidéo HTML5. Voici à la place <a href=\"./assets/images/Sample_Photos/${this.firstName}/${this.name}\">le lien vers la vidéo</a>.</p>\n        </video>`\n    }\n}","import ViewMedias from \"./ViewMedias\";\n\nexport default class ViewPictures {\n    constructor({ name, id, firstName, title }) {\n        this.id = id\n        this.name = name\n        this.firstName = firstName\n        this.title = title\n    }\n    toString() {\n        return `\n        <img tabindex=\"0\" id=\"${this.id}\" alt=\"${this.title}\" class=\"image media\" src=\"./assets/images/Sample_Photos/${this.firstName}/${this.name}\">`\n    }\n}","import MediaFactory from './MediaFactory';\n\n/**\n * @property {HTMLElement} element\n * @property {string} imageTitle\n * @property {string[]} images\n * @property {string} url Current image displayed\n * @export\n * @class Lightbox\n */\nexport default class Lightbox {\n    constructor(medias, firstNameOfPhotographer) {\n        this.medias = medias\n        this.path = firstNameOfPhotographer\n        this.index = 0\n        document.addEventListener('keyup', this.onKeyUp)\n        this.current = this.getCurrentMedia()\n    }\n\n    open(key) {\n        this.index = key\n        this.display()\n    }\n\n    close() {\n        const lightboxElement = document.querySelector('.lightbox-bg');\n        lightboxElement.classList.add('fadeout')\n        if (lightboxElement) {\n            window.setTimeout(() => {\n                lightboxElement.remove()\n            }, 500)\n        }\n    }\n\n    next() {\n        this.index += 1\n        if (this.index === this.medias.length) {\n            this.index = 0\n        }\n        this.display()\n    }\n\n    prev() {\n        this.index -= 1\n        if (this.index === -1) {\n            this.index = this.medias.length - 1\n        }\n        this.display()\n    }\n\n    getCurrentMedia() {\n        return this.medias[this.index]\n    }\n\n    display() {\n        const current = this.getCurrentMedia()\n        let element = document.querySelector('.lightbox-bg')\n        if (!element) {\n            element = document.createElement('div')\n            element.classList.add('lightbox-bg')\n            document.body.appendChild(element)\n            // Événements au clavier\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'ArrowRight') {\n                    this.next()\n                }\n            })\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'ArrowLeft') {\n                    this.prev()\n                }\n            })\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'Escape') {\n                    this.close()\n                }\n            })\n        }\n        element.innerHTML = `\n        <div role=\"dialog\" class=\"lightbox\" aria-label=\"image closeup view\">\n            <button aria-label=\"Close dialog\" class=\"lightbox__close\"></button>\n            <button aria-label=\"Next image\" class=\"lightbox__next\"></button>\n            <button aria-label=\"Previous image\" class=\"lightbox__prev\"></button>\n            <div class=\"lightbox__container\">\n                <figure>\n                    <div class=\"media\">\n                    ${new MediaFactory(current, this.path).create().toString()}\n                    </div>\n                    <figcaption>${current.title}</figcaption>\n                </figure>\n            </div>\n        </div >`\n\n        element.querySelector('.lightbox__next').addEventListener('click', this.next.bind(this))\n        element.querySelector('.lightbox__prev').addEventListener('click', this.prev.bind(this))\n        element.querySelector('.lightbox__close').addEventListener('click', this.close.bind(this))\n\n        element.setAttribute('height', window.innerHeight)\n\n    }\n}","import EventService from './EventService';\n\nexport default class ModalForm {\n    /**\n     * Creates an instance of ModalForm.\n     * @param {string} nameOfPhotographer\n     * @memberof ModalForm\n     */\n    constructor(nameOfPhotographer) {\n        this.nameOfPhotographer = nameOfPhotographer\n        this.init(this.nameOfPhotographer)\n    }\n\n    /**\n     * Modal display\n     *\n     * @param {String} nameOfPhotographer\n     * @memberof ModalForm\n     */\n    init(nameOfPhotographer) {\n        (document.querySelector('.bground')) ? EventService.closeModal() : this.display(nameOfPhotographer);\n        // Events de vérification sur les champs des formulaires\n        EventService.handleInputsFormClick((e) => this.checkField(e));\n        //On rend les éléments en arrière-plan inaccessible pour les lecteurs d'écran\n        document.getElementById('section').setAttribute('aria-hidden', 'true')\n        EventService.closeModal(document.querySelector('.bground .close'), document.querySelector('.bground'));\n    }\n\n    /**\n     * Check form fields\n     *\n     * @param {HTMLElement} element\n     * @memberof ModalForm\n     */\n    checkField(element) {\n        const regExName = \"[a-zA-Z-s\\u00C0-\\u024F\\u1E00-\\u1EFF]{3,}$\"; // Regex qui vérifie si le champ a plus de 3 caractères, les accents, et espaces des noms composés\n\n        if (element.id === \"first\") {\n            element.pattern = regExName;\n            if (!element.validity.valid) {\n                element.setAttribute(\"style\", \"border:2px solid red; outline:none\");\n                document.querySelector('.formData.first span').classList.add('error');\n                document.querySelector('.formData.first .error').textContent = 'Veuillez saisir un nom valide.'\n\n            } else {\n                element.removeAttribute(\"style\");\n                document.querySelector('.formData.first span').textContent = ''\n                document.querySelector('.formData.first span').classList.remove('error');\n            }\n        }\n        if (element.id === \"last\") {\n            element.pattern = regExName;\n            if (!element.validity.valid) {\n                element.setAttribute(\"style\", \"border:2px solid red; outline:none\");\n                document.querySelector('.formData.last span').classList.add('error');\n                document.querySelector('.formData.last .error').textContent = 'Veuillez saisir un nom valide.'\n            } else {\n                element.removeAttribute(\"style\");\n                document.querySelector('.formData.last span').textContent = ''\n                document.querySelector('.formData.last span').classList.remove('error');\n            }\n        }\n        if (element.id === \"email\") {\n            element.pattern = \"[a-z0-9-_]+[a-z0-9.-_]*@[a-z0-9-_]{2,}.[a-z.-_]+[a-z-_]+\"; // Regex qui vérifie si le champ a un email valide\n            if (!element.validity.valid) {\n                element.setAttribute(\"style\", \"border:2px solid red; outline:none\");\n                document.querySelector('.formData.email span').classList.add('error');\n                document.querySelector('.formData.email .error').textContent = 'Veuillez saisir un email valide.'\n            } else {\n                element.removeAttribute(\"style\");\n                document.querySelector('.formData.email span').textContent = ''\n                document.querySelector('.formData.email span').classList.remove('error');\n            }\n        }\n    }\n\n    /**\n     * Get fields values to display into console\n     * \n     * @param {Event} e\n     * @memberof ModalForm\n     */\n    submit(e) {\n        e.preventDefault();\n        for (let i = 0; i < document.forms[0].length - 1; i++) {\n            if (!document.forms[0][i].checkValidity() || document.forms[0][i].value === '') {\n                e.preventDefault()\n                console.clear()\n                let id = document.forms[0][i].getAttribute('id')\n                let nameId = document.querySelector(`.formData.${id} label`).getInnerHTML()\n                alert('Veuillez saisir un ' + nameId)\n            } else {\n                console.info(document.forms[0][i].value)\n                if (i === document.forms[0].length - 2) {\n                    document.querySelector('.modal-body').innerHTML = '<p style=\"color:#FFF; text-align:center\">Merci</br>votre formulaire a bien été enregistré !';\n                    document.body.addEventListener('keyup', (evt) => {\n                        if (evt.key === 'Escape') {\n                            document.querySelector('.bground').remove()\n                        }\n                    });\n                    break\n                }\n            }\n        };\n    }\n\n    /**\n     * DOM render\n     *\n     * @param {String} nameOfPhotographer\n     * @memberof ModalForm\n     */\n    display(nameOfPhotographer) {\n        const div = document.createElement('div');\n        div.className = 'bground';\n\n        div.innerHTML = `\n          <div role=\"dialog\" class=\"modalContent\"\n          aria-labelledby=\"dialogTitle\"\n          aria-modal=\"true\">\n            <span role=\"button\" aria-label=\"Close Contact form\" class=\"close\" tabindex=\"0\"></span>\n            <div class=\"modal-body\">\n                <h1 id=\"dialogTitle\" aria-label=\"Contact me ${nameOfPhotographer}\" >Contactez-moi</br>\n                ${nameOfPhotographer}</h1>\n              <form id=\"contact\" action=\"\" method=\"get\">\n                <div class=\"formData first\">\n                  <label aria-label=\"First name\" for=\"first\">Prénom</label>\n                  <input class=\"text-control\" type=\"text\" id=\"first\" name=\"first\" aria-labelledby=\"first\"/>\n                  <span></span>\n                </div>\n                <div class=\"formData last\">\n                  <label aria-label=\"Last name\" for=\"last\">Nom</label>\n                  <input class=\"text-control\" type=\"text\" id=\"last\" name=\"last\" aria-labelledby=\"last\"/>\n                  <span></span>\n                </div>\n                <div class=\"formData email\">\n                  <label aria-label=\"email\" for=\"email\">E-mail</label>\n                  <input class=\"text-control\" type=\"email\" id=\"email\" name=\"email\" aria-labelledby=\"email\"/>\n                  <span></span>\n                </div>\n                <div class=\"formData message\">\n                  <label aria-label=\"Your message\" for=\"message\">Votre message</label>\n                  <textarea class=\"text-control\" type=\"text\" id=\"message\" name=\"message\" aria-labelledby=\"message\"></textarea>\n                  <span></span>\n                </div>\n                <div class=\"submit\">\n                    <input class=\"btn-submit button\" type=\"submit\" value=\"Envoyer\" aria-label=\"Send\"/>\n                </div>\n              </form>\n            </div>\n        </div>`;\n        document.getElementById('main').appendChild(div);\n        document.querySelector('form#contact input[type=submit]').addEventListener('click', (e) => this.submit(e));\n        document.getElementById('first').focus();\n    }\n}"],"names":["$6474f89d5989e90f$var$_DataService","$6474f89d5989e90f$var$_interopRequireDefault","parcelRequire","$6474f89d5989e90f$var$_EventService","$4be4b7ca8119984a$var$_MediaFactory","render","element","document","createElement","classList","add","innerHTML","this","toString","concat","medias","map","_ref","image","video","title","likes","id","MediaFactory","firstNameOfPhotographer","create","join","$02c42a7379c9508d$var$_ViewVideo","$02c42a7379c9508d$var$_interopRequireDefault","$02c42a7379c9508d$var$_ViewPicture","media","ViewVideo","name","firstName","ViewPicture","$6474f89d5989e90f$var$_ViewMedias","$7bccf615f3cbf77c$var$_MediaFactory","open","key","index","display","close","lightboxElement","querySelector","window","setTimeout","remove","next","length","prev","getCurrentMedia","current","body","appendChild","addEventListener","evt","path","bind","setAttribute","innerHeight","onKeyUp","$6474f89d5989e90f$var$_Lightbox","$6474f89d5989e90f$var$_EventScrollToTop","$43aa8d02914f4e23$var$_EventService","init","nameOfPhotographer","EventService","closeModal","handleInputsFormClick","e","checkField","getElementById","regExName","pattern","validity","valid","removeAttribute","textContent","submit","preventDefault","i","forms","checkValidity","value","console","info","clear","getAttribute","nameId","getInnerHTML","alert","div","className","focus","constructor","$6474f89d5989e90f$var$_ModalForm","eventOpenLightboxOnMediasElements","lightbox","Lightbox","mediasElements","Array","from","querySelectorAll","forEach","findIndex","currentTarget","async","dataService","DataService","loadPhotographers","loadMedias","paramsFromUrl","URLSearchParams","location","search","substring","idFromUrlParams","Number","get","getPhotographerById","slice","indexOf","getMediasByPhotographerId","photographer","totalLikes","getTotalOfLikes","country","city","tagline","tags","tag","price","portrait","handleTagClick","nameAttributeOfTag","url","URL","href","ModalForm","chevronElement","toggleDropdownButton","handleMediasFilter","trim","ViewMedias","getMediasPhotographerByPopularity","getMediasPhotographerByDate","getMediasPhotographerByTitle","filterMediasOnDropdownButton","EventScrollToTop","scrollToTop","error","mainPhotographer"],"version":3,"file":"photographer.b6ade231.js.map"}